{
  "version": 3,
  "sources": ["../site.js"],
  "sourcesContent": ["function flatten(obj) {\n\tlet result = \"\";\n\n\tfunction traverse(obj) {\n\t\tif (Array.isArray(obj)) {\n\t\t\tobj.forEach(item => traverse(item));\n\t\t} else if (typeof obj === \"object\") {\n\t\t\tfor (let key in obj) {\n\t\t\t\ttraverse(obj[key]);\n\t\t\t}\n\t\t} else {\n\t\t\tresult += obj + \",\";\n\t\t}\n\t}\n\n\ttraverse(obj);\n\treturn result.slice(0, -1); // Remove the last comma\n}\n\nfunction createMsg(from, msg){\n\t// me-639dd4.svg\n\tconst container = document.createElement('div'),\n\t\tpic = document.createElement('div'),\n\t\tmeta = document.createElement('div'),\n\t\tmsgbox = document.createElement('div'),\n\t\tnow = new Date(),\n\t\tcurrentDateTime = now.toLocaleString();\n\n\tcontainer.classList.add('d-flex')\n\tpic.classList.add('flex-shrink-0','text-center');\n\tmeta.classList.add('text-secondary', 'border-top', 'border-secondary', 'text-right', 'fs-6');\n\tmeta.innerHTML = currentDateTime;\n\tif(from === 'ai'){\n\t\tmsgbox.classList.add('shadow', 'flex-grow-1','ms-3','border','rounded','p-2','mb-2','ai-chat','bg-body-tertiary');\n\t\tpic.classList.add('order-0')\n\t\tpic.innerHTML = `<img src=\"/assets/svg/ai-6e9dd4.svg\" alt=\"ai\" style=\"max-width:75px; height:auto;\">`\n\t} else {\n\t\tmsgbox.classList.add('shadow', 'flex-grow-1','me-3','border','rounded','p-2','mb-2','user-chat','bg-secondary-subtle');\n\t\tpic.classList.add('order-1')\n\t\tpic.innerHTML = `<img src=\"/assets/svg/me-639dd4.svg\" alt=\"ai\" style=\"max-width:75px; height:auto;\">`\n\t}\n\tmsgbox.innerHTML = msg;\n\tmsgbox.append(meta);\n\tcontainer.append(pic)\n\tcontainer.append(msgbox);\n\treturn container;\n}\nasync function loadSelects(promptSelect, modelSelect){\n\tlet selects = []\n\n\tselects['prompt'] = await loadPrompts(promptSelect);\n\tselects['model'] = await loadModels(modelSelect);\n\n\treturn selects\n}\nlet loadedPrompts = {}\nasync function loadPrompts(selectPrompt){\n\tconst response = await fetch('assets/data/prompts.json')\n\tconst data = response.json()\n\tconsole.log('prompts')\n\tconsole.log(data)\n  Object.keys(data).forEach(key => {\n    const option = document.createElement('option');\n    option.value = key;\n    option.text = key;\n    selectPrompt.appendChild(option);\n\t\tloadedPrompts[key] = data[key];\n  })\n\tdselect(selectPrompt)\n\treturn selectPrompt\n}\n\nlet loadedModels = {}\nasync function loadModels(selectModel){\n\tconst response = await fetch('assets/data/models.json')\n\tconst data = await response.json()\n\tconsole.log('models')\n\tconsole.log(data)\n\t//Object.entries(data).forEach(([key, value]) => {\n\tObject.keys(data).forEach(([key, value]) => {\n    const option = document.createElement('option');\n    option.value = key;\n    option.text = value.name\n\t\toption.setAttribute('data-dselect-img', value.img);\n    selectModel.appendChild(option);\n\t\tloadedModels[key] = data[key];\n  })\n\tdselect(selectModel)\n\treturn selectModel\n}\n\n//Object.keys(data).forEach(key => {\n//  console.log(data[key].name);\n//});\n\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n\tconst chatForm = document.getElementById(\"chat-form\"),\n\t\ttextarea = document.getElementById(\"chatMsg\"),\n\t\tresp = document.getElementById(\"resp\"),\n\t\tchatBox = document.getElementById(\"chat-box\"),\n\t\tloading = document.getElementById(\"loading-icon\");\n\n\tlet sidePanel = document.getElementById('sidePanel'),\n\t\tsettingsBtn = document.getElementById('settings-btn'),\n\t\ttoDoList = document.getElementById('to-do-list'),\n\t\ttoDoBtn = document.getElementById('to-do-btn'),\n\t\tmainChat = document.getElementById('main-chat');\n\n\tchatForm.addEventListener(\"submit\", async (e) => {\n\t\te.preventDefault();\n\t\tlet chatMsg = textarea.value;\n\t\tloading.classList.remove('d-none')\n\n\t\tconst userChat = marked.parse(chatMsg);\n\t\tconst userDiv = createMsg('user', userChat);\n\t\t//const userDiv = document.createElement('div');\n\t\t//userDiv.classList.add('border','rounded','p-2','mb-2','user-chat','bg-secondary-subtle');\n\t\t//userDiv.innerHTML = userChat;\n\t\tchatBox.insertBefore(userDiv, resp);\n\n\t\tconst formData = new FormData();\n\t\tformData.append('hello', 'Yohn');\n\t\tformData.append('chatMsg', chatMsg);\n\t\tconst plainObject = Object.fromEntries(formData);\n\t\ttry {\n\t\t\t// Send POST request to server\n\t\t\tconst response = await fetch('/submit', {\n\t\t\t\tmethod: 'POST',\n\t\t\t\theaders: {\n\t\t\t\t\t\t'Content-Type': 'application/json'\n\t\t\t\t},\n\t\t\t\tbody: JSON.stringify(plainObject)\n\t\t\t});\n\t\t\tif (!response.ok) {\n\t\t\t\tthrow new Error('Network response was not ok.');\n\t\t\t}\n\t\t\t// Clear textarea\n\t\t\ttextarea.value = \"\";\n\t\t\tconst tevent = new Event('input', { bubbles: true });\n\t\t\ttextarea.dispatchEvent(tevent);\n\n\t\t\t// Handle response\n\t\t\tconst result = await response.json(); // Assuming server responds with JSON\n\t\t\tconsole.log(JSON.stringify(result));\n\t\t\t// Render Markdown to HTML using marked.js\n\t\t\tconst atChat = marked.parse(result.aiResp);\n\t\t\tconst aiDiv = createMsg('ai', atChat);\n\t\t\tchatBox.insertBefore(aiDiv, resp);\n\n\t\t\t// Highlight each code block inside the container\n\t\t\tchatBox.querySelectorAll('pre code').forEach((block) => {\n\t\t\t\thljs.highlightElement(block);\n\t\t\t});\n\n\t\t\tloading.classList.add('d-none')\n\t\t} catch (error) {\n\t\t\tconsole.error('Error:', error);\n\t\t}\n\t});\n\n\tconst promptSelect = document.getElementById('prompt-preset-select'); // Select prompt\n\tconst modelSelect = document.getElementById('model-preset-select');\n\tloadSelects(promptSelect, modelSelect)\n\t//const selectPrompt = document.getElementById('prompt-preset-select'); // Select prompt\n\tpromptSelect.addEventListener('change', async (e) => {\n\t\tsystemPrompt.value = loadedPrompts[e.target.value];\n\t})\n\t//const chatMessages = document.querySelector(\".chat-messages\");\n\t// chat messages\n\ttextarea.addEventListener(\"input\", function () {\n\t\t// Reset the height to auto to calculate the new height correctly\n\t\tthis.style.height = 'auto';\n\t\t// Set the new height based on content\n\t\tconst newHeight = Math.min(this.scrollHeight, window.innerHeight * 0.4);\n\t\tthis.style.height = newHeight + 'px';\n\t});\n\n\tconst tooltipTriggerList = Array.from(document.querySelectorAll('[data-bs-toggle=\"tooltip\"]'))\n\ttooltipTriggerList.forEach(tooltipTriggerEl => {\n\t\tnew bootstrap.Tooltip(tooltipTriggerEl)\n\t})\n\t//!-------------------------------------------------------------------!\n\t//!\n\t//!\n\t//!\n\t//!-------------------------------------------------------------------!\n\tfunction mainCol(direction){\n\t\tlet curCol = parseInt(mainChat.getAttribute('data-yo-col'))\n\t\tlet newCol = direction == 'up' ? curCol+3 : curCol-3;\n\t\tmainChat.classList.remove('col-'+curCol);\n\t\tmainChat.classList.add('col-'+newCol);\n\t\tmainChat.setAttribute('data-yo-col', newCol);\n\t}\n\n\tsidePanel.addEventListener('show.bs.collapse', event => {\n\t\tsettingsBtn.classList.toggle('btn-primary');\n\t\tsettingsBtn.classList.toggle('btn-outline-primary');\n\t\tsidePanel.classList.toggle('font-zero');\n\t\tmainCol('down');\n\t})\n\tsidePanel.addEventListener('hide.bs.collapse', event => {\n\t\tsettingsBtn.classList.toggle('btn-primary');\n\t\tsettingsBtn.classList.toggle('btn-outline-primary');\n\t\tsidePanel.classList.toggle('font-zero');\n\t\tmainCol('up');\n\t})\n\ttoDoList.addEventListener('show.bs.collapse', event => {\n\t\ttoDoBtn.classList.toggle('btn-primary');\n\t\ttoDoBtn.classList.toggle('btn-outline-primary');\n\t\ttoDoBtn.classList.toggle('font-zero');\n\t\tmainCol('down');\n\t}) // Why cant we chain these?\n\ttoDoList.addEventListener('hide.bs.collapse', event => {\n\t\ttoDoBtn.classList.toggle('btn-primary');\n\t\ttoDoBtn.classList.toggle('btn-outline-primary');\n\t\ttoDoBtn.classList.toggle('font-zero');\n\t\tmainCol('up');\n\t})\n\t//!\n\t//!------------------------------------------------------------------------!\n\t//!\n\t//!\n\t//!\n\t//!------------------------------------------------------------------------!\n\t//!\n\t// The theme tab within settings.. just changing the background, not sure how it'll look here though haha\n\tdocument.getElementById(\"bgColor\").addEventListener(\"input\", function () {\n\t\tdocument.body.style.backgroundColor = this.value;\n\t});\n\n\tlet gsColor = document.getElementById(\"gradientStart\");\n\tlet geColor = document.getElementById(\"gradientEnd\");\n\tlet opacityInput = document.getElementById(\"gradientOpacity\");\n\n\tgsColor.addEventListener(\"input\", updateGradient);\n\tgeColor.addEventListener(\"input\", updateGradient);\n\topacityInput.addEventListener(\"input\", updateGradient);\n\n\tfunction updateGradient() {\n\t\tconst startColor = gsColor.value;\n\t\tconst endColor = geColor.value;\n\t\tconst opacity = opacityInput.value;\n\t\tdocument.body.style.backgroundImage = `linear-gradient(to right, ${hexToRgba(\n\t\t\tstartColor,\n\t\t\topacity\n\t\t)}, ${hexToRgba(endColor, opacity)})`;\n\t}\n\n\tfunction hexToRgba(hex, opacity) {\n\t\tlet r = parseInt(hex.slice(1, 3), 16);\n\t\tlet g = parseInt(hex.slice(3, 5), 16);\n\t\tlet b = parseInt(hex.slice(5, 7), 16);\n\t\treturn `rgba(${r}, ${g}, ${b}, ${opacity})`;\n\t}\n\t//const wave = new TextWave('waving-text', 3);\n\t//wave.start();\n});\n"],
  "mappings": "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",
  "names": ["flatten", "obj", "result", "traverse", "item", "key", "createMsg", "from", "msg", "container", "pic", "meta", "msgbox", "now", "currentDateTime", "loadSelects", "promptSelect", "modelSelect", "selects", "loadPrompts", "loadModels", "loadedPrompts", "selectPrompt", "data", "option", "loadedModels", "selectModel", "value", "chatForm", "textarea", "resp", "chatBox", "loading", "sidePanel", "settingsBtn", "toDoList", "toDoBtn", "mainChat", "e", "chatMsg", "userChat", "userDiv", "formData", "plainObject", "response", "tevent", "atChat", "aiDiv", "block", "error", "newHeight", "tooltipTriggerEl", "mainCol", "direction", "curCol", "newCol", "event", "gsColor", "geColor", "opacityInput", "updateGradient", "startColor", "endColor", "opacity", "hexToRgba", "hex", "r", "g", "b"]
}
